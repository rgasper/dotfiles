{
  "$schema": "https://opencode.ai/config.json",
  "permission": {
    "*": "allow",
    "web*": "ask",
    "kagi*": "ask",
    "bash": {
      "*": "ask",
      "wc*": "allow",
      "head*": "allow",
      "tail*": "allow",
      "rg*": "allow",
      "cat*": "allow",
      "echo*": "allow",
      "grep*": "allow",
      "git diff*": "allow",
      "git show*": "allow",
      "cd*": "allow",
      "docker ps*": "allow",
      "docker-compose*": "allow",
      "ls*": "allow",
      "test*": "allow",
      "cp*": "allow",
      "poe*": "allow",
    }
  },
  "mcp": {
    "context7": {
      "type": "remote",
      "url": "https://mcp.context7.com/mcp"
    },
    "kagimcp": {
      "type": "local",
      "command": ["uvx", "-p", "3.13", "kagimcp"],
      "enabled": true,
      "environment": {
        "KAGI_API_KEY": "SECRETSECRET"
      }
    },
    "linear": {
      "type": "local",
      "command": ["npx", "-y", "mcp-remote", "https://mcp.linear.app/mcp"],
      "enabled": true,
    }
  },
  "default_agent": "jack",
  "agent": {
    "plan": {
      "disable": true
    },
    "build": {
      "disable": true
    },
    "general": {
      "disable": true
    },
    "jack": {
      "description": "does it all",
      "prompt": "Be concise! delegate questions on looking up or modifying tickets or projects to project_manager subagent.",
      "mode": "primary",
      "model": "amazon-bedrock/anthropic.claude-opus-4-5-20251101-v1:0",
      "tools": {
        "linear*": false,
      },
      "permission": {
        "task": {
          "*": "deny",
          "project_manager": "allow",
        }
      }
    },
    "planner": {
      "description": "for planning large software projects",
      "mode": "primary",
      "model": "amazon-bedrock/anthropic.claude-opus-4-5-20251101-v1:0",
      "prompt": "Help investigate and plan this work. for exploring, do some initial probes and high level scans, then break down the larger question into focused, smaller questions which can be delegated to explorer subagents. combine their summaries, with spot checks of details for critical findings, to form the final summary. Utilize brainstorming, writing-plans, and dispatching-parallel-agents skills. Use context7, and as final resort kagi web search to gather facts and reference material. Use question tool to ask for advice on decisions like code architecture - e.g. message passing, or event-based, or polling, schema design, or infrastructural decisions - e.g. should this be cached in-memory or using redis; always frame these questions using terms from and in the context of the codebase and frameworks being built upon. If instructed to get information about a project or ticket, delegate that out to the project_manager subagent. If a subagent has questions, repeat the questions yourself then send the answers back to the subagent. When ready to start work, delegate to the builder agent.",
      "tools": {
        "write": false,
        "edit": false,
        "linear*": false,
      },
      "permission": {
        "task": {
          "*": "deny",
          "explorer": "allow",
          "project_manager": "allow",
          "builder": "allow",
        }
      }
    },
    "explorer": {
      "description": "explorers codebase and summarizes findings",
      "mode": "subagent",
      "model": "amazon-bedrock/anthropic.claude-haiku-4-5-20251001-v1:0",
      "tools": {
        "write": false,
        "edit": false,
        "linear*": false,
        "kagi*": false,
        "context7*": false,
      },
      "permission": {
        "task": {
          "*": "deny",
        }
      }
    },
    "builder": {
      "description": "for implementing large, detailed, software plans",
      "mode": "subagent",
      "model": "amazon-bedrock/anthropic.claude-opus-4-5-20251101-v1:0",
      "prompt": "Help implement these changes. Break up the work into independent units, with particular attention to which tasks go to which files. Then delegate performing each task with very explicit instruction about which edits should be made to which files to writer subagents. tell them which directory to open for their workspace. Afterwards, delegate the code-reviewer subagent to review the changes for compatibility and code quality, run tests and refactor or rework until you're satisfied the holistic project is completed. If there's test failures, use systematic-debugger skill to address and rework the plan before the next set of code writing/editing. Utilize any and all testing, code quality, or reviewing skills. Utilize executing-plans, subagent-driven-development, dispatching-parallel-agents, test-driven-development skills. Utilize language servers, context7, and as final resort kagi web search to gather facts and reference material. If instructed to get information about a project or ticket, delegate that out to the project_manager subagent. If a subagent has questions, repeat the questions yourself then send the answers back to the subagent.",
      "tools": {
        "linear*": false
      },
      "permission": {
        "task": {
          "*": "deny",
          "writer": "allow",
        }
      }
    },
    "writer": {
      "mode": "subagent",
      "model": "amazon-bedrock/anthropic.claude-haiku-4-5-20251001-v1:0",
      "prompt": "adhere very closely to instructions. do not modify files other than what is explicitly instructed. very concisely summarize your changes when complete with reference to original instructions. do not run tests - make your edits, validate syntax and code quality, then finish.",
      "tools": {
        "linear*": false,
        "kagi*": false,
        "context7*": false,
      },
      "permission": {
        "task": {
          "*": "deny",
        }
      }
    },
    "project_manager": {
      "description": "reads and writes tickets & projects",
      "mode": "subagent",
      "model": "amazon-bedrock/anthropic.claude-opus-4-5-20251101-v1:0",
      "prompt": "help frame work, scope projects, describe issues, and goals. No writing code here! Push back on requests to get into details on implementations. Focus on higher level - architecture, design, workflow, stakeholders, company goals. Always ask for context on who or what are constraints in these categories. Who cares about this work? what goal does it contribute to? are there blockers externally, or interdependencies between tasks?",
      "tools": {
        "context7*": false,
      },
      "permission": {
        "task": {
          "*": "deny",
        }
      }
    }
  },
  "lsp": {
    "ty": {
      "command": ["ty", "server"],
      "extensions": [".py", ".pyi", ".py3"]
    }
  }
}
